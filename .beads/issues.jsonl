{"id":"flownote-1ox","title":"Phase 5: Storage \u0026 Polish","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T13:24:27.3754511-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-21T13:44:26.1183401-08:00","closed_at":"2026-01-21T13:44:26.1183401-08:00","close_reason":"localStorage persistence implemented, notes save/load on change/start","dependencies":[{"issue_id":"flownote-1ox","depends_on_id":"flownote-aoi","type":"blocks","created_at":"2026-01-21T13:25:39.6953124-08:00","created_by":"unknown"}]}
{"id":"flownote-1ug","title":"Billing UI: Upgrade prompts and subscription management","description":"## Goal\nImplement frontend billing UI for upgrades and subscription management.\n\n## Tasks\n- [ ] Create useSubscription hook (tier status, feature gates)\n- [ ] Create UpgradePrompt component (shown at 5-note limit)\n- [ ] Add upgrade button to user menu\n- [ ] Integrate Stripe checkout redirect\n- [ ] Add 'Manage Subscription' link to customer portal\n- [ ] Show Pro badge for paid users\n\n## TDD\nWrite tests FIRST for:\n- [ ] useSubscription returns correct tier\n- [ ] UpgradePrompt shown when at limit\n- [ ] UpgradePrompt hidden for Pro users\n- [ ] Checkout redirect called with correct params\n- [ ] Pro badge displayed for paid users\n\n## Security\n- [ ] Tier checked from server (not just local state)\n- [ ] No price manipulation possible from client\n\n## Acceptance Criteria\n- Free users see upgrade prompts at limit\n- Upgrade button initiates Stripe checkout\n- Pro users can access customer portal\n- Tier UI updates after subscription change","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T14:02:58.3377457-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-30T14:02:58.3377457-08:00","dependencies":[{"issue_id":"flownote-1ug","depends_on_id":"flownote-702","type":"blocks","created_at":"2026-01-30T14:04:14.5687934-08:00","created_by":"unknown"},{"issue_id":"flownote-1ug","depends_on_id":"flownote-cao","type":"blocks","created_at":"2026-01-30T14:04:15.3624256-08:00","created_by":"unknown"}]}
{"id":"flownote-2tt","title":"Notes API: CRUD endpoints with tier enforcement","description":"## Goal\nImplement backend API for note CRUD operations with free tier limit enforcement.\n\n## Tasks\n- [ ] GET /api/notes - List user notes\n- [ ] POST /api/notes - Create note (enforce 5-note limit for free)\n- [ ] GET /api/notes/:id - Get single note\n- [ ] PUT /api/notes/:id - Update note\n- [ ] DELETE /api/notes/:id - Delete note\n- [ ] POST /api/sync - Bulk sync endpoint\n- [ ] Input validation for all endpoints\n\n## TDD\nWrite tests FIRST for:\n- [ ] List notes returns only user's notes\n- [ ] Create note succeeds under limit\n- [ ] Create note fails at limit for free tier\n- [ ] Create note succeeds at any count for pro tier\n- [ ] Update note works for owner only\n- [ ] Delete note works for owner only\n- [ ] Cannot access other user's notes (403)\n- [ ] Invalid input returns 400\n\n## Security\n- [ ] User can only access own notes\n- [ ] Limit enforced server-side\n- [ ] Input sanitized and validated\n- [ ] Content length limits enforced\n\n## Acceptance Criteria\n- All CRUD operations work\n- 5-note limit enforced for free users\n- No cross-user data access possible","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T14:02:28.9155805-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-30T14:02:28.9155805-08:00","dependencies":[{"issue_id":"flownote-2tt","depends_on_id":"flownote-6jy","type":"blocks","created_at":"2026-01-30T14:03:50.1549298-08:00","created_by":"unknown"}]}
{"id":"flownote-3f2","title":"Feature: Dark mode toggle","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-21T13:59:57.2172391-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-21T14:09:13.2216522-08:00","closed_at":"2026-01-21T14:09:13.2216522-08:00","close_reason":"Tabs, dark mode, and fixed layout all implemented, build passes"}
{"id":"flownote-5hy","title":"Feature: Multiple tabs/documents","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-21T13:59:45.7771313-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-21T14:09:13.0923378-08:00","closed_at":"2026-01-21T14:09:13.0923378-08:00","close_reason":"Tabs, dark mode, and fixed layout all implemented, build passes"}
{"id":"flownote-61v","title":"Project Restructure: Move frontend to subfolder, create backend scaffold","description":"## Goal\nReorganize project into frontend/ and backend/ directories for the micro SaaS architecture.\n\n## Tasks\n- [ ] Move existing React app to frontend/\n- [ ] Update frontend Dockerfile and paths\n- [ ] Create backend/ directory structure\n- [ ] Update root docker-compose.yml\n- [ ] Verify existing functionality still works\n\n## TDD\n- Existing frontend tests should pass after move\n- Docker build should succeed\n\n## Security\n- No new security concerns (restructure only)\n\n## Acceptance Criteria\n- npm run dev works from frontend/\n- docker compose build succeeds\n- All existing tests pass","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T14:01:22.8559608-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-30T14:01:38.9993502-08:00"}
{"id":"flownote-6jy","title":"Auth Middleware: Firebase token verification","description":"## Goal\nImplement backend middleware to verify Firebase ID tokens and protect API routes.\n\n## Tasks\n- [ ] Initialize Firebase Admin SDK\n- [ ] Create auth middleware that extracts and verifies Bearer token\n- [ ] Add user context to request object\n- [ ] Handle token expiration gracefully\n- [ ] Add rate limiting to auth endpoints\n\n## TDD\nWrite tests FIRST for:\n- [ ] Valid token passes middleware\n- [ ] Missing token returns 401\n- [ ] Invalid token returns 401\n- [ ] Expired token returns 401\n- [ ] Rate limiting blocks excessive requests\n\n## Security\n- [ ] Tokens verified server-side (never trust client)\n- [ ] No token data logged (PII protection)\n- [ ] Rate limiting prevents brute force\n- [ ] HTTPS only (enforced by Cloud Run)\n\n## Acceptance Criteria\n- All auth middleware tests pass\n- Protected routes return 401 without valid token\n- Protected routes work with valid token","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T14:02:07.6442185-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-30T14:02:07.6442185-08:00","dependencies":[{"issue_id":"flownote-6jy","depends_on_id":"flownote-a4i","type":"blocks","created_at":"2026-01-30T14:03:31.3257732-08:00","created_by":"unknown"},{"issue_id":"flownote-6jy","depends_on_id":"flownote-7ch","type":"blocks","created_at":"2026-01-30T14:03:31.8854973-08:00","created_by":"unknown"}]}
{"id":"flownote-702","title":"Auth UI: Login/logout with Google and GitHub","description":"## Goal\nImplement frontend authentication UI with Firebase Auth for Google and GitHub OAuth.\n\n## Tasks\n- [ ] Set up Firebase SDK in frontend\n- [ ] Create LoginButton component (Google + GitHub options)\n- [ ] Create UserMenu component (avatar, dropdown, logout)\n- [ ] Create useAuth hook (auth state, login/logout functions)\n- [ ] Handle auth state persistence\n- [ ] Show appropriate UI for logged in/out states\n\n## TDD\nWrite tests FIRST for:\n- [ ] useAuth returns null when not logged in\n- [ ] useAuth returns user object when logged in\n- [ ] LoginButton renders both provider options\n- [ ] UserMenu shows user avatar and name\n- [ ] Logout clears auth state\n\n## Security\n- [ ] Tokens stored securely (Firebase handles this)\n- [ ] No tokens in localStorage (use Firebase persistence)\n- [ ] Logout clears all auth state\n\n## Acceptance Criteria\n- Can sign in with Google\n- Can sign in with GitHub\n- User menu shows after login\n- Logout works and clears state","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T14:02:22.1701795-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-30T14:02:22.1701795-08:00","dependencies":[{"issue_id":"flownote-702","depends_on_id":"flownote-61v","type":"blocks","created_at":"2026-01-30T14:03:39.3434679-08:00","created_by":"unknown"},{"issue_id":"flownote-702","depends_on_id":"flownote-7ch","type":"blocks","created_at":"2026-01-30T14:03:39.9477736-08:00","created_by":"unknown"}]}
{"id":"flownote-7ch","title":"Firebase Emulator Setup: Local dev environment","description":"## Goal\nSet up Firebase emulators for local development (Auth + Firestore).\n\n## Tasks\n- [ ] Create firebase.json config\n- [ ] Create firestore.rules with security rules\n- [ ] Add Firebase emulator service to docker-compose\n- [ ] Create seed data script for testing\n- [ ] Document emulator usage\n\n## TDD\n- Write tests that verify:\n  - Emulator connects successfully\n  - Security rules block unauthorized access\n  - Security rules allow authorized access\n\n## Security\n- [ ] Firestore rules: users can only access own data\n- [ ] Firestore rules: note limit enforced for free tier\n- [ ] Test unauthorized access attempts are blocked\n\n## Acceptance Criteria\n- docker compose up starts emulators\n- Emulator UI accessible at localhost:4001\n- Security rules tests pass","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T14:02:01.0155762-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-30T14:02:01.0155762-08:00","dependencies":[{"issue_id":"flownote-7ch","depends_on_id":"flownote-61v","type":"blocks","created_at":"2026-01-30T14:03:24.3638607-08:00","created_by":"unknown"}]}
{"id":"flownote-a4i","title":"Backend Scaffold: Express + TypeScript setup","description":"## Goal\nCreate the Express backend with TypeScript, proper project structure, and testing setup.\n\n## Tasks\n- [ ] Initialize package.json with dependencies (express, typescript, firebase-admin, stripe)\n- [ ] Set up TypeScript config\n- [ ] Create src/ structure (routes, middleware, services, types)\n- [ ] Set up Jest/Vitest for testing\n- [ ] Create Dockerfile for backend\n- [ ] Add health check endpoint\n\n## TDD\n- Write tests first for:\n  - Health check endpoint returns 200\n  - App bootstraps without errors\n  - Config loads from environment\n\n## Security\n- [ ] Helmet middleware for security headers\n- [ ] CORS configuration (allowlist frontend origin)\n- [ ] Rate limiting setup\n- [ ] No secrets in code (use env vars)\n\n## Acceptance Criteria\n- npm run dev starts server on port 8080\n- npm test runs and passes\n- docker build succeeds\n- /health returns 200","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T14:01:54.1040497-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-30T14:01:54.1040497-08:00","dependencies":[{"issue_id":"flownote-a4i","depends_on_id":"flownote-61v","type":"blocks","created_at":"2026-01-30T14:03:23.6992629-08:00","created_by":"unknown"}]}
{"id":"flownote-a4o","title":"Phase 2: Evaluation Engine","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T13:24:09.9531135-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-21T13:38:49.5570194-08:00","closed_at":"2026-01-21T13:38:49.5570194-08:00","close_reason":"Evaluation engine and UI shell complete, build passes","dependencies":[{"issue_id":"flownote-a4o","depends_on_id":"flownote-z8v","type":"blocks","created_at":"2026-01-21T13:25:27.6774025-08:00","created_by":"unknown"}]}
{"id":"flownote-a9d","title":"GCP Deployment: Cloud Run, Cloud Storage, CI/CD","description":"## Goal\nDeploy FlowNote to GCP using free tier services with automated CI/CD.\n\n## Tasks\n- [ ] Create GCP project\n- [ ] Set up Artifact Registry for container images\n- [ ] Deploy backend to Cloud Run\n- [ ] Deploy frontend to Cloud Storage with CDN\n- [ ] Set up Cloud Build for CI/CD\n- [ ] Configure Firebase (Auth + Firestore) for production\n- [ ] Set up Secret Manager for sensitive config\n- [ ] Configure custom domain (optional)\n\n## TDD\nWrite deployment verification tests:\n- [ ] Health check passes after deploy\n- [ ] Auth flow works end-to-end\n- [ ] Note CRUD works end-to-end\n- [ ] Billing webhook reachable\n\n## Security\n- [ ] Cloud Run with minimum IAM permissions\n- [ ] Secrets in Secret Manager (not env vars in console)\n- [ ] HTTPS enforced\n- [ ] Firestore production security rules deployed\n- [ ] Cloud Build service account scoped appropriately\n\n## Acceptance Criteria\n- App accessible at production URL\n- CI/CD deploys on push to main\n- All features work in production\n- Stays within free tier limits","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T14:03:11.8737987-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-30T14:03:11.8737987-08:00","dependencies":[{"issue_id":"flownote-a9d","depends_on_id":"flownote-x3w","type":"blocks","created_at":"2026-01-30T14:04:32.7116202-08:00","created_by":"unknown"},{"issue_id":"flownote-a9d","depends_on_id":"flownote-1ug","type":"blocks","created_at":"2026-01-30T14:04:33.4457878-08:00","created_by":"unknown"},{"issue_id":"flownote-a9d","depends_on_id":"flownote-zcv","type":"blocks","created_at":"2026-01-30T14:04:34.0702265-08:00","created_by":"unknown"}]}
{"id":"flownote-aoi","title":"Phase 4: Editor Integration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T13:24:21.9524476-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-21T13:42:17.0406927-08:00","closed_at":"2026-01-21T13:42:17.0406927-08:00","close_reason":"CodeMirror integrated, live evaluation working, results displayed alongside editor, variable bar connected to real scope","dependencies":[{"issue_id":"flownote-aoi","depends_on_id":"flownote-a4o","type":"blocks","created_at":"2026-01-21T13:25:33.9157347-08:00","created_by":"unknown"},{"issue_id":"flownote-aoi","depends_on_id":"flownote-k63","type":"blocks","created_at":"2026-01-21T13:25:34.6507396-08:00","created_by":"unknown"}]}
{"id":"flownote-cao","title":"Billing API: Stripe checkout and webhooks","description":"## Goal\nImplement Stripe integration for $0.99/month Pro subscriptions.\n\n## Tasks\n- [ ] Set up Stripe product and price\n- [ ] POST /api/billing/checkout - Create checkout session\n- [ ] POST /api/billing/portal - Create customer portal session\n- [ ] POST /api/billing/webhook - Handle Stripe events\n- [ ] Update user tier on subscription changes\n- [ ] Handle subscription cancellation\n\n## TDD\nWrite tests FIRST for:\n- [ ] Checkout creates valid Stripe session\n- [ ] Webhook verifies signature correctly\n- [ ] Invalid signature returns 400\n- [ ] checkout.session.completed updates user to pro\n- [ ] customer.subscription.deleted updates user to free\n- [ ] Portal returns valid URL\n\n## Security\n- [ ] Stripe webhook signature verified\n- [ ] Price ID hardcoded server-side (not from client)\n- [ ] Stripe secret key in environment only\n- [ ] No payment data stored locally\n\n## Acceptance Criteria\n- Checkout redirects to Stripe\n- Successful payment upgrades to Pro\n- Cancellation downgrades to Free\n- Customer portal accessible","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T14:02:51.6364302-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-30T14:02:51.6364302-08:00","dependencies":[{"issue_id":"flownote-cao","depends_on_id":"flownote-6jy","type":"blocks","created_at":"2026-01-30T14:04:06.7061628-08:00","created_by":"unknown"}]}
{"id":"flownote-dac","title":"Feature: Fixed header/footer with scrollable content","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-21T14:00:03.2090666-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-21T14:09:13.3200632-08:00","closed_at":"2026-01-21T14:09:13.3200632-08:00","close_reason":"Tabs, dark mode, and fixed layout all implemented, build passes"}
{"id":"flownote-gpr","title":"Feature: Global variables (constants)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-21T13:59:51.5334633-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-21T14:17:35.9726429-08:00","closed_at":"2026-01-21T14:17:35.9726429-08:00","close_reason":"Global variables and syntax highlighting implemented, build passes","dependencies":[{"issue_id":"flownote-gpr","depends_on_id":"flownote-5hy","type":"blocks","created_at":"2026-01-21T14:00:24.8595823-08:00","created_by":"unknown"}]}
{"id":"flownote-k63","title":"Phase 3: UI Shell","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-21T13:24:15.6695345-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-21T13:38:49.5623267-08:00","closed_at":"2026-01-21T13:38:49.5623267-08:00","close_reason":"Evaluation engine and UI shell complete, build passes","dependencies":[{"issue_id":"flownote-k63","depends_on_id":"flownote-z8v","type":"blocks","created_at":"2026-01-21T13:25:28.4570447-08:00","created_by":"unknown"}]}
{"id":"flownote-md9","title":"Phase 6: Docker \u0026 Deployment","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-21T13:24:32.4730953-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-21T13:49:23.7038736-08:00","closed_at":"2026-01-21T13:49:23.7038736-08:00","close_reason":"Dockerfile, docker-compose.yml, nginx.conf, README.md created, Docker build verified working","dependencies":[{"issue_id":"flownote-md9","depends_on_id":"flownote-1ox","type":"blocks","created_at":"2026-01-21T13:25:40.3837812-08:00","created_by":"unknown"}]}
{"id":"flownote-x3w","title":"Sync Hooks: Frontend offline support and sync","description":"## Goal\nImplement frontend hooks for syncing notes with backend, including offline support.\n\n## Tasks\n- [ ] Create useSync hook with debounced saves\n- [ ] Implement offline detection\n- [ ] Create sync queue for offline changes\n- [ ] Implement merge logic (local vs server)\n- [ ] Create SyncStatus component (Synced/Syncing/Offline)\n- [ ] Handle sync conflicts gracefully\n\n## TDD\nWrite tests FIRST for:\n- [ ] Changes debounced (not every keystroke)\n- [ ] Offline changes queued\n- [ ] Queue processed when back online\n- [ ] Sync status updates correctly\n- [ ] Server data merged with local on login\n- [ ] Conflicts resolved (last-write-wins or prompt)\n\n## Security\n- [ ] Auth token included in all API calls\n- [ ] No sensitive data in offline queue (just note content)\n- [ ] Sync failures don't lose local data\n\n## Acceptance Criteria\n- Notes sync to server when online\n- App works offline (falls back to localStorage)\n- Changes sync when coming back online\n- Status indicator shows sync state","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T14:02:37.5582068-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-30T14:02:37.5582068-08:00","dependencies":[{"issue_id":"flownote-x3w","depends_on_id":"flownote-702","type":"blocks","created_at":"2026-01-30T14:03:57.402608-08:00","created_by":"unknown"},{"issue_id":"flownote-x3w","depends_on_id":"flownote-2tt","type":"blocks","created_at":"2026-01-30T14:03:58.2888838-08:00","created_by":"unknown"}]}
{"id":"flownote-yys","title":"Feature: Syntax highlighting","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-21T14:00:09.1239392-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-21T14:17:36.052391-08:00","closed_at":"2026-01-21T14:17:36.052391-08:00","close_reason":"Global variables and syntax highlighting implemented, build passes","dependencies":[{"issue_id":"flownote-yys","depends_on_id":"flownote-3f2","type":"blocks","created_at":"2026-01-21T14:00:25.5924339-08:00","created_by":"unknown"}]}
{"id":"flownote-z8v","title":"Phase 1: Project Setup","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-21T13:24:03.8257466-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-21T13:33:47.976635-08:00","closed_at":"2026-01-21T13:33:47.976635-08:00","close_reason":"Project scaffolded with Vite+React+TS, all dependencies installed, placeholder files created, build passes"}
{"id":"flownote-zcv","title":"Ads Integration: AdSense for free tier","description":"## Goal\nIntegrate Google AdSense to display ads for free tier users.\n\n## Tasks\n- [ ] Set up AdSense account and get ad unit code\n- [ ] Create AdBanner component\n- [ ] Conditionally render ads (free tier only)\n- [ ] Position ads non-intrusively (below results pane)\n- [ ] Handle ad blockers gracefully\n\n## TDD\nWrite tests FIRST for:\n- [ ] AdBanner renders for free users\n- [ ] AdBanner hidden for Pro users\n- [ ] AdBanner hidden when not logged in\n- [ ] Component handles ad blocker gracefully\n\n## Security\n- [ ] Ad scripts loaded from official AdSense CDN only\n- [ ] No user data passed to ad network\n\n## Acceptance Criteria\n- Free users see ads\n- Pro users don't see ads\n- Ads don't interfere with app usability\n- Ad blocker doesn't break the app","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T14:03:04.625349-08:00","created_by":"Chase Skibeness","updated_at":"2026-01-30T14:03:04.625349-08:00","dependencies":[{"issue_id":"flownote-zcv","depends_on_id":"flownote-702","type":"blocks","created_at":"2026-01-30T14:04:21.797536-08:00","created_by":"unknown"}]}
